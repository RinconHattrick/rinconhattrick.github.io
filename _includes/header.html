<header role="banner">
  <nav
    class="navbar is-fixed-top"
    role="navigation"
    aria-label="Menú principal"
  >
    <div class="navbar-brand">
      <a class="navbar-item has-text-white" href="/">
        <h2 class="title is-4 has-text-primary">El Rincón de Hattrick</h2>
      </a>
      <button
        class="navbar-burger"
        aria-label="Abrir menú"
        aria-expanded="false"
        data-target="navbarMenu"
      >
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
        <span aria-hidden="true"></span>
      </button>
    </div>

    <div id="navbarMenu" class="navbar-menu">
      <div class="navbar-end">
        <a
          class="navbar-item {% if page.url == '/' %}is-active{% endif %}"
          href="/"
        >
          <span class="icon">
            <i class="fas fa-home"></i>
          </span>
          Inicio
        </a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" aria-haspopup="true" aria-expanded="false">
            <span class="icon is-small">
              <i class="fas fa-folder"></i>
            </span>
            Categorías
          </a>
          <div class="navbar-dropdown">
            {% if site.pages %} {% for category_page in site.pages %} {% if
            category_page.layout == "category" %}
            <a
              class="navbar-item {% if page.url contains category_page.permalink %}is-active{% endif %}"
              href="{{ category_page.permalink }}"
            >
              {{ category_page.title }}
            </a>
            {% endif %} {% endfor %} {% else %}
            <a class="navbar-item">No hay categorías disponibles</a>
            {% endif %}
          </div>
        </div>
        <a
          class="navbar-item {% if page.url contains '/acerca-de/' %}is-active{% endif %}"
          href="/acerca-de/"
        >
          <span class="icon">
            <i class="fas fa-info-circle"></i>
          </span>
          Acerca de
        </a>
        <a
          class="navbar-item {% if page.url contains '/contacto/' %}is-active{% endif %}"
          href="/contacto/"
        >
          <span class="icon">
            <i class="fas fa-envelope"></i>
          </span>
          Contáctanos
        </a>
      </div>
    </div>
  </nav>
</header>

<script>
  document.addEventListener("DOMContentLoaded", () => {
    const burger = document.querySelector(".navbar-burger");
    const menu = document.querySelector("#navbarMenu");

    if (burger && menu) {
      burger.addEventListener("click", () => {
        const isActive = burger.classList.toggle("is-active");
        menu.classList.toggle("is-active");
        burger.setAttribute("aria-expanded", isActive ? "true" : "false");
      });
    }
  });
</script>
