---
layout: with-sidebar
---

<section class="section">
  <article class="container article">
    <header class="media is-flex is-align-items-center mb-5">
      {% if page.image %}
      <div class="media-left">
        <figure class="image is-64x64">
          <img
            src="{{ page.image | relative_url }}"
            alt="Imagen del artículo: {{ page.title }}"
            class="is-rounded"
            loading="lazy"
            width="64"
            height="64"
          />
        </figure>
      </div>
      {% endif %}

      <div class="media-content">
        <div class="has-text-grey" style="text-align: center">
          <time datetime="{{ page.date | date_to_xmlschema }}">
            Publicado el {{ page.date | date: "%d/%m/%Y" }}
          </time>
          {% if page.author %}
          <span class="mx-2">por</span>
          <strong>{{ page.author }}</strong>
          {% endif %}
        </div>
      </div>
    </header>

    <section class="content">{{ content }}</section>

    <div class="has-text-centered my-6">
      <button
        id="shareButton"
        class="button is-primary is-light is-rounded"
        aria-label="Compartir artículo"
        title="Compartir este artículo"
      >
        <span class="icon-text">
          <span class="icon">
            <i class="fas fa-share-alt" aria-hidden="true"></i>
          </span>
          <span>Compartir</span>
        </span>
      </button>
    </div>
  </article>
</section>

<footer class="section">
  <nav class="level" aria-label="Navegación del artículo">
    <div class="level-item has-text-centered">
      <div class="buttons is-centered">
        <a
          href="{{ '/' | relative_url }}"
          class="button is-link is-rounded"
          aria-label="Volver al Inicio"
        >
          <span class="icon-text">
            <span class="icon">
              <i class="fas fa-home" aria-hidden="true"></i>
            </span>
            <span>Volver al Inicio</span>
          </span>
        </a>
        <a
          href="#main-header"
          class="button is-link is-light is-rounded"
          title="Ir al inicio de la página"
          aria-label="Volver arriba"
        >
          <span class="icon-text">
            <span class="icon">
              <i class="fas fa-arrow-up" aria-hidden="true"></i>
            </span>
            <span>Subir</span>
          </span>
        </a>
      </div>
    </div>
  </nav>
</footer>

<script>
  class ShareManager {
    constructor() {
      this.shareButton = document.getElementById("shareButton");
      this.shareData = {
        title: "{{ page.title }}",
        text: "¡Lee este artículo interesante en El Rincón de Hattrick!",
        url: window.location.href,
      };

      this.init();
    }

    init() {
      if (this.shareButton) {
        this.shareButton.addEventListener("click", () => this.handleShare());
      }
    }

    async handleShare() {
      try {
        if (navigator.share) {
          await navigator.share(this.shareData);
          console.log("Contenido compartido exitosamente");
        } else {
          this.showFallbackMessage();
        }
      } catch (error) {
        if (error.name !== "AbortError") {
          console.error("Error al compartir:", error);
          this.showFallbackMessage();
        }
      }
    }

    showFallbackMessage() {
      alert(
        `Lo sentimos, la función de compartir no está disponible.\n\nURL del artículo: ${this.shareData.url}`
      );
    }
  }

  document.addEventListener("DOMContentLoaded", () => new ShareManager());
</script>
